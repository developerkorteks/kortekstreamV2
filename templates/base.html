<!DOCTYPE html>
<html lang="en" class="light">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>
            {% block title %}
                {{ title }} | KortekStream
            {% endblock title %}
        </title>
        <!-- Tailwind CSS CDN -->
        <script src="https://cdn.tailwindcss.com"></script>
        <script>
            tailwind.config = {
                darkMode: 'class',
                theme: {
                    extend: {
                        colors: {
                            // Light mode colors
                            gold: {
                                50: '#FFF9E5',
                                100: '#FFF2CC',
                                200: '#FFE699',
                                300: '#FFD966',
                                400: '#FFCC33',
                                500: '#FFBF00', // Primary gold
                                600: '#E6AC00',
                                700: '#CC9900',
                                800: '#B38600',
                                900: '#997300',
                            },
                            // Dark mode colors
                            korteks: {
                                red: '#E50914',
                                darkred: '#B81D24',
                                black: '#141414',
                                darkgray: '#1F1F1F',
                                gray: '#2F2F2F'
                            }
                        },
                        fontFamily: {
                            sans: ['Inter', 'sans-serif'],
                        },
                        boxShadow: {
                            'gold': '0 4px 14px 0 rgba(255, 191, 0, 0.3)',
                            'gold-lg': '0 10px 25px -5px rgba(255, 191, 0, 0.4)',
                            'red': '0 4px 14px 0 rgba(229, 9, 20, 0.3)',
                            'red-lg': '0 10px 25px -5px rgba(229, 9, 20, 0.4)',
                        }
                    }
                }
            }
        </script>
        <style>
            /* Base styles */
            .line-clamp-2 {
                display: -webkit-box;
                -webkit-line-clamp: 2;
                -webkit-box-orient: vertical;
                overflow: hidden;
            }
            
            /* Light mode styles */
            .light .card-hover {
                transition: all 0.3s ease;
                border: 2px solid transparent;
            }
            .light .card-hover:hover {
                transform: translateY(-8px);
                border-color: #FFBF00;
                box-shadow: 0 20px 40px rgba(255, 191, 0, 0.15);
            }
            .light .gradient-bg {
                background: linear-gradient(135deg, #FFFFFF 0%, #FFF2CC 100%);
            }
            
            /* Dark mode styles */
            .dark .card-hover {
                transition: all 0.3s ease;
                border: 2px solid transparent;
            }
            .dark .card-hover:hover {
                transform: translateY(-8px);
                border-color: #E50914;
                box-shadow: 0 20px 40px rgba(229, 9, 20, 0.15);
            }
            .dark .gradient-bg {
                background: linear-gradient(135deg, #141414 0%, #2F2F2F 100%);
            }
            
            /* Preload fonts */
            @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
            
            /* Custom Scrollbar */
            .custom-scrollbar::-webkit-scrollbar {
                width: 6px;
            }
            
            .light .custom-scrollbar::-webkit-scrollbar-track {
                background: #f1f1f1;
                border-radius: 10px;
            }
            
            .light .custom-scrollbar::-webkit-scrollbar-thumb {
                background: #FFBF00;
                border-radius: 10px;
            }
            
            .light .custom-scrollbar::-webkit-scrollbar-thumb:hover {
                background: #E6AC00;
            }
            
            .dark .custom-scrollbar::-webkit-scrollbar-track {
                background: #2F2F2F;
                border-radius: 10px;
            }
            
            .dark .custom-scrollbar::-webkit-scrollbar-thumb {
                background: #E50914;
                border-radius: 10px;
            }
            
            .dark .custom-scrollbar::-webkit-scrollbar-thumb:hover {
                background: #B81D24;
            }
        </style>
        {% block extra_css %}
        {% endblock extra_css %}
        {% block extra_head %}
        {% endblock extra_head %}
    </head>
    <body class="bg-white dark:bg-korteks-black text-gray-900 dark:text-gray-100 transition-colors duration-200">
        <!-- Theme Toggle Button -->
        <div class="fixed top-4 right-4 z-50">
            <button id="theme-toggle" class="p-2 rounded-full bg-gray-100 dark:bg-korteks-gray text-gray-800 dark:text-white hover:bg-gray-200 dark:hover:bg-korteks-darkgray transition-colors">
                <!-- Sun icon for dark mode -->
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 hidden dark:block" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" />
                </svg>
                <!-- Moon icon for light mode -->
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 block dark:hidden" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />
                </svg>
            </button>
        </div>
        
        {% block content %}
        {% endblock content %}
        
        <!-- Theme Toggle Script -->
        <script>
            // Check for saved theme preference or use the system preference
            if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
                document.documentElement.classList.add('dark');
            } else {
                document.documentElement.classList.remove('dark');
            }
            
            // Toggle theme
            document.getElementById('theme-toggle').addEventListener('click', function() {
                if (document.documentElement.classList.contains('dark')) {
                    document.documentElement.classList.remove('dark');
                    localStorage.theme = 'light';
                } else {
                    document.documentElement.classList.add('dark');
                    localStorage.theme = 'dark';
                }
            });
        </script>
        
        {% block extra_js %}
        {% endblock extra_js %}
    </body>
</html>
