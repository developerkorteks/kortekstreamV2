/* Image optimizations for KortekStream */

/* Base image styles */
img {
    transition: opacity 0.3s ease;
}

/* Image loading states */
img:not([src]), 
img[src=""] {
    opacity: 0;
    visibility: hidden;
}

/* Image error state */
img.img-error {
    filter: grayscale(0.5);
    opacity: 0.8;
}

/* Image loading animation */
@keyframes imageFadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

img.loaded {
    animation: imageFadeIn 0.3s ease forwards;
}

/* Aspect ratio containers for preventing layout shifts */
.img-container {
    position: relative;
    overflow: hidden;
    background-color: #f0f0f0;
}

.img-container.ratio-16-9 {
    padding-top: 56.25%; /* 16:9 aspect ratio */
}

.img-container.ratio-4-3 {
    padding-top: 75%; /* 4:3 aspect ratio */
}

.img-container.ratio-1-1 {
    padding-top: 100%; /* 1:1 aspect ratio (square) */
}

.img-container.ratio-2-3 {
    padding-top: 150%; /* 2:3 aspect ratio (portrait) */
}

.img-container img {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
}

/* Blur-up effect for progressive loading */
.img-container .placeholder {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    filter: blur(10px);
    transform: scale(1.05);
    transition: opacity 0.3s ease;
}

.img-container img.loaded + .placeholder {
    opacity: 0;
}

/* Responsive image sizes */
@media (max-width: 768px) {
    .img-container.responsive {
        padding-top: 66.67%; /* 3:2 aspect ratio for mobile */
    }
}

/* Image loading skeleton */
.img-skeleton {
    background: linear-gradient(90deg, #f0f0f0 0%, #f8f8f8 50%, #f0f0f0 100%);
    background-size: 200% 100%;
    animation: shimmer 1.5s infinite;
}

@keyframes shimmer {
    0% {
        background-position: -200% 0;
    }
    100% {
        background-position: 200% 0;
    }
}

/* Prevent image drag */
img {
    -webkit-user-drag: none;
    -khtml-user-drag: none;
    -moz-user-drag: none;
    -o-user-drag: none;
    user-drag: none;
}

/* Image hover effects */
.img-hover-zoom {
    overflow: hidden;
}

.img-hover-zoom img {
    transition: transform 0.5s ease;
}

.img-hover-zoom:hover img {
    transform: scale(1.05);
}

/* Prevent layout shifts with explicit width/height */
img[width][height] {
    aspect-ratio: attr(width) / attr(height);
}